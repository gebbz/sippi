package modelo;

//

import java.util.HashSet;
import java.util.List;
import java.util.Set;

//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Proyecto2010_Requerimientos-iuga
//  @ File Name : Empresa.java
//  @ Date : 14/06/2010
//  @ Author : 
//
//

public class Empresa {
    private int id;
    private String razonSocial;
    private String cuit;
    private String email;
    private String paginaWeb;
    private Domicilio domicilio;
    private Set telefonos;
    private EstadoEmpresa estado;
    private String hib_flag_estado;

    public Empresa() {
        this.hib_flag_estado = "modelo.EstadoEmpresaAlta";
        this.getEstado();
    }

    public int getId() {
        return id;
    }

    private void setId(int id) {
        this.id = id;
    }

    public String getCuit() {
        return cuit;
    }

    public void setCuit(String cuit) {
        this.cuit = cuit;
    }

    public Domicilio getDomicilio() {
        return domicilio;
    }

    public void setDomicilio(Domicilio domicilio) {
        this.domicilio = domicilio;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public String getPaginaWeb() {
        return paginaWeb;
    }

    public void setPaginaWeb(String paginaWeb) {
        this.paginaWeb = paginaWeb;
    }

    public String getRazonSocial() {
        return razonSocial;
    }

    public void setRazonSocial(String razonSocial) {
        this.razonSocial = razonSocial;
    }

    public Set getTelefonos() {
        return telefonos;
    }

    public void setTelefonos(Set telefonos) {
        this.telefonos = telefonos;
    }

    public void mostrarEmpresa() {

    }

    public String mostrarDomicilio() {
        if(getDomicilio()!=null)
        {
            return getDomicilio().toString();
        }
        return "";
    }

    public void mostrarTelefono() {

    }

/*************************************************************
 *                    MANEJO DE ESTADOS                      *
 * ***********************************************************
 */

    public EstadoEmpresa getEstado()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado==null)
            {
                try {
                        EstadoEmpresa estadoAux = (EstadoEmpresa) Class.forName(this.hib_flag_estado).newInstance();
                        this.estado = estadoAux;
                        return estado;
                    }
                    catch (Exception ex)
                    {
                        System.out.println("No se encontro la clase Estado Concreto");
                    }
            }
            else
            {
                return this.estado;
            }

        }
        else
        {
            System.out.println("Carga el objeto antes de usarlo");
            return null;
        }
        return null;
    }

    public String getHib_flag_estado() {
        return hib_flag_estado;
    }

    public void setHib_flag_estado(String hib_flag_estado) {
        this.hib_flag_estado = hib_flag_estado;
    }

    public void setEstadoAlta()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esBaja())
            {
                ((EstadoEmpresaBaja)this.estado).setAlta(this);
            }
        }
    }

    public void setEstadoBaja()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esAlta())
            {
                ((EstadoEmpresaAlta)this.estado).setBaja(this);
            }
        }
    }

    public void setEstado(EstadoEmpresa estado){
        this.estado = estado;
    }
    
    public String mostrarEstado()
    {
        if(getEstado()!=null)
        {
            return getEstado().getNombre();
        }
        return "";
    }
    
    public String mostrarTelefonos()
    {
        if(getTelefonos()!=null)
        {
            String buffer = "";
            for (Telefono tell : (Set<Telefono>)getTelefonos())
            {
                buffer += tell.getNumero() + " ";
            }
            return buffer;
        }
        return "";
    }

    @Override
    public String toString() {
        return razonSocial+" - ("+cuit+") - "+ email;
    }
    
    
    
}
