package modelo;

//

import java.util.ArrayList;
import java.util.Date;
import java.util.List;

//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Proyecto2010_Requerimientos-iuga
//  @ File Name : PedidoObra.java
//  @ Date : 14/06/2010
//  @ Author : 
//
//




public class PedidoObra{
    private int id; // Tb guarda el numero del pedido
    private String nombre;
    private String descripcion;
    private Date fechaInicio;
    private Date fechaFin;
    private double presupuestoMaximo;
    private FormaDePago formaPago;
    private List<Cotizacion> cotizaciones;
    private List<ContactoResponsable> contactos;
    private Planta planta;
    private Date fechaDeRegistro;

    private EstadoPedidoObra estado; // TODO: ¿Qué hacemos con los estados?
    private String hib_flag_estado;

    public PedidoObra() {
        crear();

        if(cotizaciones==null)
        {
            cotizaciones = new ArrayList<Cotizacion>();
        }

    }

    public List<Cotizacion> getCotizaciones()
    {
        return cotizaciones;
    }

    public void addCotizaciones(Cotizacion c)
    {
        cotizaciones.add(c);
    }

    // ESTE LO PIDE HIBERNATE
    public void setCotizaciones(List<Cotizacion> cotizaciones) {
        this.cotizaciones = cotizaciones;
    }

    // Crea el objeto, no me queda otra que asociarlo a hibernate
    public void crear() {
        this.hib_flag_estado = "modelo.EstadoPedidoObraSolicitado";
        this.getEstado();
    }

    public void addContacto(ContactoResponsable c){
        this.contactos.add(c);
    }

    public List<ContactoResponsable> getContactos() {
        return contactos;
    }

    public void setContactos(List<ContactoResponsable> contacto) {
        this.contactos = contacto;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getDescripcion() {
        return descripcion;
    }

    public void setDescripcion(String descripcion) {
        this.descripcion = descripcion;
    }

    public Date getFechaDeRegistro() {
        return fechaDeRegistro;
    }

    public void setFechaDeRegistro(Date fechaDeRegistro) {
        this.fechaDeRegistro = fechaDeRegistro;
    }

    public String getNombre() {
        return nombre;
    }

    public void setNombre(String nombre) {
        this.nombre = nombre;
    }

    public int getNumero() {
        return id;
    }

    public void setNumero(int numero) {
        this.id = numero;
    }

    public Planta getPlanta() {
        return planta;
    }

    public void setPlanta(Planta planta) {
        this.planta = planta;
    }

    public Date getFechaFin() {
        return fechaFin;
    }

    public void setFechaFin(Date fechaFin) {
        this.fechaFin = fechaFin;
    }

    public Date getFechaInicio() {
        return fechaInicio;
    }

    public void setFechaInicio(Date fechaInicio) {
        this.fechaInicio = fechaInicio;
    }

    public FormaDePago getFormaPago() {
        return formaPago;
    }

    public void setFormaPago(FormaDePago formaPago) {
        this.formaPago = formaPago;
    }

    public double getPresupuestoMaximo() {
        return presupuestoMaximo;
    }

    public void setPresupuestoMaximo(double presupuestoMaximo) {
        this.presupuestoMaximo = presupuestoMaximo;
    }

    public void mostrarPlanta() {

    }

    public void mostrarNombresObrasPendientes() {

    }

    public void getObra(Object nombre) {

    }

    public void mostrarNombresObrasActivas() {

    }

    public void buscarTipoDeCapacitacion() {

    }

    public void buscarEmpleados() {

    }

    public void esTuTipo() {

    }

    public void getNombreConfirmada() {

    }

    public void mostrarContactoYTelefono() {

    }

    public void calcularPorcentajeCompletado() {

    }

    public void getNumeroPedidoObra() {

    }

    public void crearPlanificacion() {

    }

    public void getObrasActivas() {

    }

    public void getEtapasPrimerNivel() {

    }

/*************************************************************
 *                    MANEJO DE ESTADOS                      *
 * ***********************************************************
 */
    
    public EstadoPedidoObra getEstado()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado==null)
            {
                try {
                        //Class estadoAux = Class.forName(this.hib_flag_estado);
                        EstadoPedidoObra estadoAux = (EstadoPedidoObra) Class.forName(this.hib_flag_estado).newInstance();
                        this.estado = estadoAux;
                        return estado;
                    }
                    catch (Exception ex)
                    {
                        System.out.println("No se encontro la clase Estado Concreto");
                    }
            }
            else
            {
                return this.estado;
            }

        }
        else
        {
            System.out.println("Carga el objeto antes de usarlo");
            return null;
        }
        return null;
    }

    public void setEstadoPresupuestado()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esSolicitado())
            {
                ((EstadoPedidoObraSolicitado)this.estado).setPresupuestado(this);
            }
        }
    }

    public void setEstadoPendiente()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esPresupuestado())
            {
                ((EstadoPedidoObraPresupuestado)this.estado).setPendiente(this);
            }
        }
    }

    public void setEstadoConfirmado()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esPendiente())
            {
                ((EstadoPedidoObraPendiente)this.estado).setConfirmado(this);
            }
        }
    }

    public void setEstadoPlanificado()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esConfirmado())
            {
                ((EstadoPedidoObraConfirmado)this.estado).setPlanificado(this);
            }
        }
    }

    public void setEstadoEnEjecucion()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esPlanificado())
            {
                ((EstadoPedidoObraPlanificado)this.estado).setEnEjecucion(this);
            }
            else
            {
                if(this.estado.esSuspendido()){
                    ((EstadoPedidoObraSuspendido)this.estado).setEnEjecucion(this);
                }
            }
        }
    }

    public void setEstadoSuspendido()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esEnEjecucion())
            {
                ((EstadoPedidoObraEnEjecucion)this.estado).setSuspendido(this);
            }
        }
    }

    public void setEstadoTerminado()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esEnEjecucion())
            {
                ((EstadoPedidoObraEnEjecucion)this.estado).setTerminado(this);
            }
        }
    }

    public void setEstadoCancelado()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esSolicitado()){
                ((EstadoPedidoObraSolicitado)this.estado).setCancelado(this);
            }
            else{
                if(this.estado.esPresupuestado()){
                    ((EstadoPedidoObraPresupuestado)this.estado).setCancelado(this);
                }
                else{
                    if(this.estado.esPendiente()){
                        ((EstadoPedidoObraPendiente)this.estado).setCancelado(this);
                    }
                    else{
                        if(this.estado.esConfirmado()){
                            ((EstadoPedidoObraConfirmado)this.estado).setCancelado(this);
                        }
                         else{
                            if(this.estado.esPlanificado()){
                                ((EstadoPedidoObraPlanificado)this.estado).setCancelado(this);
                            }
                            else{
                                if(this.estado.esEnEjecucion()){
                                    ((EstadoPedidoObraEnEjecucion)this.estado).setCancelado(this);
                                }
                                else{
                                    if(this.estado.esSuspendido()){
                                        ((EstadoPedidoObraSuspendido)this.estado).setCancelado(this);
                                    }
                                }
                            }
                         }
                    }
                }
            }
        }
    }

    public void setEstado(EstadoPedidoObra estado){
        this.estado = estado;
    }

    public String getHib_flag_estado() {
        return hib_flag_estado;
    }

    public void setHib_flag_estado(String hib_flag_estado) {
        this.hib_flag_estado = hib_flag_estado;
    }
}