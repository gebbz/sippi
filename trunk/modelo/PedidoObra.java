package modelo;

//

import java.util.Date;

//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Proyecto2010_Requerimientos-iuga
//  @ File Name : PedidoObra.java
//  @ Date : 14/06/2010
//  @ Author : 
//
//




public class PedidoObra{
    private int id; // Tb guarda el numero del pedido

    private ContactoResponsable contacto;
    //private PlanDeSeguridad planSeg;
    private String descripcion;
    private Date fechaLimiteValidezPresupuesto;
    private String nombre;
    private Date fechaInicio;
    private Date fechaFin;
    private Date fechaDeRegistro;
    private Date fechaAceptacion;
    private Planta planta;
    // private PlanificacionObra planificacionObra;
    private String pliego;
    private String planos;
    private double monto;
    private Date fechaLimiteEntregaPresupuesto;

    //private EstadoPedidoObra estadoObra;
    private EstadoPedidoObra estado;
    private String hib_flag_estado;

    public PedidoObra() {
        crear();
    }

    // Crea el objeto, no me queda otra que asociarlo a hibernate
    public void crear() {
        crearPlanificacion(); // Xahora no hace nada ...
        this.hib_flag_estado = "modelo.EstadoPedidoObraSolicitado";
        this.getEstado();
    }

    public ContactoResponsable getContacto() {
        return contacto;
    }

    public void setContacto(ContactoResponsable contacto) {
        this.contacto = contacto;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getDescripcion() {
        return descripcion;
    }

    public void setDescripcion(String descripcion) {
        this.descripcion = descripcion;
    }

    public Date getFechaAceptacion() {
        return fechaAceptacion;
    }

    public void setFechaAceptacion(Date fechaAceptacion) {
        this.fechaAceptacion = fechaAceptacion;
    }

    public Date getFechaDeRegistro() {
        return fechaDeRegistro;
    }

    public void setFechaDeRegistro(Date fechaDeRegistro) {
        this.fechaDeRegistro = fechaDeRegistro;
    }

    public Date getFechaLimiteEntregaPresupuesto() {
        return fechaLimiteEntregaPresupuesto;
    }

    public void setFechaLimiteEntregaPresupuesto(Date fechaLimiteEntregaPresupuesto) {
        this.fechaLimiteEntregaPresupuesto = fechaLimiteEntregaPresupuesto;
    }

    public Date getFechaLimiteValidezPresupuesto() {
        return fechaLimiteValidezPresupuesto;
    }

    public void setFechaLimiteValidezPresupuesto(Date fechaLimiteValidezPresupuesto) {
        this.fechaLimiteValidezPresupuesto = fechaLimiteValidezPresupuesto;
    }

    public double getMonto() {
        return monto;
    }

    public void setMonto(double monto) {
        this.monto = monto;
    }

    public String getNombre() {
        return nombre;
    }

    public void setNombre(String nombre) {
        this.nombre = nombre;
    }

    public int getNumero() {
        return id;
    }

    public void setNumero(int numero) {
        this.id = numero;
    }

    public String getPlanos() {
        return planos;
    }

    public void setPlanos(String planos) {
        this.planos = planos;
    }

    public Planta getPlanta() {
        return planta;
    }

    public void setPlanta(Planta planta) {
        this.planta = planta;
    }

    public String getPliego() {
        return pliego;
    }

    public void setPliego(String pliego) {
        this.pliego = pliego;
    }

    public Date getFechaFin() {
        return fechaFin;
    }

    public void setFechaFin(Date fechaFin) {
        this.fechaFin = fechaFin;
    }

    public Date getFechaInicio() {
        return fechaInicio;
    }

    public void setFechaInicio(Date fechaInicio) {
        this.fechaInicio = fechaInicio;
    }

    public void mostrarPlanDeSeguridad() {

    }

    public void mostrarPlanificacionObras() {

    }

    public void mostrarPlanta() {

    }

    public void mostrarNombresObrasPendientes() {

    }

    public void getObra(Object nombre) {

    }

    public void mostrarNombresObrasActivas() {

    }

    public void buscarTipoDeCapacitacion() {

    }

    public void buscarEmpleados() {

    }

    public void esTuTipo() {

    }

    public void getNombreConfirmada() {

    }

    public void mostrarContactoYTelefono() {

    }

    public void calcularPorcentajeCompletado() {

    }

    public void getNumeroPedidoObra() {

    }

    public void crearPlanificacion() {

    }

    public void getObrasActivas() {

    }

    public void getEtapasPrimerNivel() {

    }

/*************************************************************
 *                    MANEJO DE ESTADOS                      *
 * ***********************************************************
 */
    
    public EstadoPedidoObra getEstado()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado==null)
            {
                try {
                        //Class estadoAux = Class.forName(this.hib_flag_estado);
                        EstadoPedidoObra estadoAux = (EstadoPedidoObra) Class.forName(this.hib_flag_estado).newInstance();
                        this.estado = estadoAux;
                        return estado;
                    }
                    catch (Exception ex)
                    {
                        System.out.println("No se encontro la clase Estado Concreto");
                    }
            }
            else
            {
                return this.estado;
            }

        }
        else
        {
            System.out.println("Carga el objeto antes de usarlo");
            return null;
        }
        return null;
    }

    public void setEstadoPresupuestado()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esSolicitado())
            {
                ((EstadoPedidoObraSolicitado)this.estado).setPresupuestado(this);
            }
        }
    }

    public void setEstadoPendiente()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esPresupuestado())
            {
                ((EstadoPedidoObraPresupuestado)this.estado).setPendiente(this);
            }
        }
    }

    public void setEstadoConfirmado()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esPendiente())
            {
                ((EstadoPedidoObraPendiente)this.estado).setConfirmado(this);
            }
        }
    }

    public void setEstadoPlanificado()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esConfirmado())
            {
                ((EstadoPedidoObraConfirmado)this.estado).setPlanificado(this);
            }
        }
    }

    public void setEstadoEnEjecucion()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esPlanificado())
            {
                ((EstadoPedidoObraPlanificado)this.estado).setEnEjecucion(this);
            }
            else
            {
                if(this.estado.esSuspendido()){
                    ((EstadoPedidoObraSuspendido)this.estado).setEnEjecucion(this);
                }
            }
        }
    }

    public void setEstadoSuspendido()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esEnEjecucion())
            {
                ((EstadoPedidoObraEnEjecucion)this.estado).setSuspendido(this);
            }
        }
    }

    public void setEstadoTerminado()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esEnEjecucion())
            {
                ((EstadoPedidoObraEnEjecucion)this.estado).setTerminado(this);
            }
        }
    }

    public void setEstadoCancelado()
    {
        if(this.id!=0) // Objeto no cargado
        {
            if(this.estado.esSolicitado()){
                ((EstadoPedidoObraSolicitado)this.estado).setCancelado(this);
            }
            else{
                if(this.estado.esPresupuestado()){
                    ((EstadoPedidoObraPresupuestado)this.estado).setCancelado(this);
                }
                else{
                    if(this.estado.esPendiente()){
                        ((EstadoPedidoObraPendiente)this.estado).setCancelado(this);
                    }
                    else{
                        if(this.estado.esConfirmado()){
                            ((EstadoPedidoObraConfirmado)this.estado).setCancelado(this);
                        }
                         else{
                            if(this.estado.esPlanificado()){
                                ((EstadoPedidoObraPlanificado)this.estado).setCancelado(this);
                            }
                            else{
                                if(this.estado.esEnEjecucion()){
                                    ((EstadoPedidoObraEnEjecucion)this.estado).setCancelado(this);
                                }
                                else{
                                    if(this.estado.esSuspendido()){
                                        ((EstadoPedidoObraSuspendido)this.estado).setCancelado(this);
                                    }
                                }
                            }
                         }
                    }
                }
            }
        }
    }

    public void setEstado(EstadoPedidoObra estado){
        this.estado = estado;
    }

    public String getHib_flag_estado() {
        return hib_flag_estado;
    }

    public void setHib_flag_estado(String hib_flag_estado) {
        this.hib_flag_estado = hib_flag_estado;
    }

}
