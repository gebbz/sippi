package modelo;
import java.util.Date;
import java.util.ArrayList;
import java.util.HashSet;
import java.util.Iterator;
import java.util.Set;
//
//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Proyecto2010_Requerimientos-iuga
//  @ File Name : Capacitador.java
//  @ Date : 14/06/2010
//  @ Author : 
//
//

public class Capacitador extends Persona
{
        private Set<TipoCapacitacion> tiposCapacitacion;
        private EstadoCapacitador estado;
        private String hib_flag_estado;
        private String motivoBaja;
        // private Date fechaBaja;

        public void setTiposCapacitacion(Set tc)
        {
            tiposCapacitacion=tc;
        }
        public Set getTiposCapacitacion()
        {
           return tiposCapacitacion;
        }
        public Capacitador(String nom,String apell,Date fechadeNac,TipoDocumento tipoDoc,String nroDoc,String cuil, String email, String calleD, int numeroD, int pisoD, String deptoD, String codigoPostalD, Barrio barrioD  , ArrayList<String> listaNroTel, ArrayList<TipoTelefono> listaTipoTel,ArrayList<TipoCapacitacion> listaTipoCapacitaciones,  Date fecha_Alta)
        {
            super.setNombre(nom);
            super.setApellido(apell);
            super.setFechadeNac(fechadeNac);
            super.setTipoDoc(tipoDoc);
            super.setNroDoc(nroDoc);
            super.setCuil(cuil);
            super.setEmail(email);
            super.setFechaAlta(fecha_Alta);
            super.setDomicilio(calleD,  numeroD,  pisoD,  deptoD, codigoPostalD,  barrioD);
            super.setTelefonos(listaNroTel,  listaTipoTel);
            setTiposCapacitacion(listaTipoCapacitaciones);
            estado=new EstadoCapacitadorActivo();
            hib_flag_estado = "modelo.EstadoCapacitadorActivo";
        }
        public Capacitador()
        {
          /* tiposCapacitacion= new ArrayList();*/
        }
	public void crear() {
	
	}
	public void setTiposCapacitacion(ArrayList<TipoCapacitacion> tiposCap)
        {
            tiposCapacitacion= new HashSet();
            for(int i=0; i< tiposCap.size();i++)
            {
               
               tiposCapacitacion.add(tiposCap.get(i));
            }
        }
	public void mostrarCapacitador() {
	
	}
		
	
	public void mostrarNombreCapacitadores() {
	
	}
	
	public void esCapacitador() {
	
	}

        public boolean tieneTipoCapacitacion(TipoCapacitacion tc)
        {
            HashSet lista = new HashSet<Telefono>();
            lista.addAll((Set)this.tiposCapacitacion);
            
            Iterator it = lista.iterator();
            while (it.hasNext())
            {
                TipoCapacitacion ntc = (TipoCapacitacion)it.next();
                if(tc.getId() == ntc.getId())
                {
                    return true;
                }
            }
            return false;
        }

        public EstadoCapacitador getEstado()
     {
         if(this.estado==null)
                {
                    try {
                            //Class estadoAux = Class.forName(this.hib_flag_estado);
                            EstadoCapacitador estadoAux = (EstadoCapacitador) Class.forName(this.hib_flag_estado).newInstance();
                            this.estado = estadoAux;
                            return estado;
                        }
                        catch (Exception ex)
                        {
                            System.out.println("ERROR: No se encontro la clase Estado Concreto: "+this.hib_flag_estado);
                            ex.getStackTrace();
                            return null;
                        }
                }
                else
                {
                    return this.estado;
                }
     }
     public void setEstado(EstadoCapacitador ee)
     {
         estado=ee;
         hib_flag_estado = ee.getClass().getName();
     }
    public String getHib_flag_estado() {
        return hib_flag_estado;
    }

    public void setHib_flag_estado(String hib_flag_estado) {
        this.hib_flag_estado = hib_flag_estado;
    }

     public boolean darDeBaja(Date fechaB, String motiv)
        {

            boolean exito=getEstado().darBaja(this);
                if(exito)
                {
                    super.setFechaBaja(fechaB);
                    motivoBaja=motiv;
                }
                return    exito;

        }

        public boolean darDeAlta()
        {
             if(getEstado().esBaja())
                {
                    getEstado().darAlta(this);
                    return true;
                }
             else{return false;}
        }

        public boolean estaActivo()
        {return getEstado().esActivo();}

        public boolean estaBaja()
        {return getEstado().esBaja();}

        public void setMotivoBaja(String mb)
        {motivoBaja=mb;
        }

        public String getMotivoBaja()
        { return motivoBaja;
        }
}
