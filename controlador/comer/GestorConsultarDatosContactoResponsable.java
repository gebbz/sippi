package controlador.comer;

//

import java.util.ArrayList;
import modelo.TipoTelefono;
import modelo.Telefono;

import modelo.ContactoResponsable;
import org.hibernate.Session;
import util.HibernateUtil;
import vista.comer.pantallaConsultarDatosContactoResponsable;
import controlador.utiles.gestorBDvarios;
import util.Tupla;

//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Proyecto2010_Requerimientos-iuga
//  @ File Name : GestorModificarNuevoEmpleado.java
//  @ Date : 10/08/2010
//  @ Author : Fran
//
//




public class GestorConsultarDatosContactoResponsable    {

        private pantallaConsultarDatosContactoResponsable pantalla;
        
        private String apellidoEmpleado;
        private String emailEmpleado;
        private String cuilEmpleado;

        
        private ContactoResponsable empleadoModif;
       


    public GestorConsultarDatosContactoResponsable(pantallaConsultarDatosContactoResponsable pantalla)
    {
        this.pantalla = pantalla;
        /*listaTipoEspecialidades= new ArrayList<TipoEspecialidad>();
        listaRangoEspecialidades= new ArrayList<RangoEspecialidad>();
        listaNroTel= new  ArrayList<String>();
        listaTipoTel= new ArrayList<TipoTelefono>();
        listaTipoCapacitaciones=new ArrayList<TipoCapacitacion>();
         listaVencimientoCapacitaciones=new ArrayList<Date>();*/

    }


	public void verificarExistenciaCapacitador() {

	}
      
        
	

        public ArrayList<Tupla> mostrarTiposDeTelefono() {

           gestorBDvarios bdv = new gestorBDvarios();
           return bdv.getTiposDeTelefono();

	}
	
        public boolean levantarContactoResponsable(int id)
        {
            Session sesion;
            ///////////////////////////////////
             try {
                    sesion = HibernateUtil.getSession();
            //sesion.beginTransaction();
            empleadoModif = (ContactoResponsable) sesion.createQuery("from ContactoResponsable where id ="+id).uniqueResult();
            /*  } catch (Exception ex)
            {
                System.out.println("Error levantando el empleado");
                return false;
            }*/
            /*legajoEmpleadoOriginal=empleadoModif.getLegajo();
            nroDocumentoOriginal=empleadoModif.getNroDoc();
            cuilEmpleadoOriginal=empleadoModif.getCuil();*/
            //Envio a la pantalla los datos personales del empleado levantado

            pantalla.datosPersonalesContactoResponsable( empleadoModif.getCuil(),empleadoModif.getNombre(), empleadoModif.getApellido(),  empleadoModif.getFechaAlta(), empleadoModif.getEmail());
            //Envio a la pantalla los telefonos del empleado levantado
            Telefono[] tel=(Telefono[])empleadoModif.getTelefonos().toArray(new Telefono[0]);
            ArrayList listaNro=new ArrayList<String>();
            ArrayList listaTipoT=new ArrayList<Tupla>();
            for(int i=0; i<tel.length;i++)
            {
               TipoTelefono td= tel[i].getTipo();
               Tupla tup=new Tupla();
               tup.setId(td.getId());
               tup.setNombre(td.getNombre());
               listaTipoT.add(tup);
               listaNro.add(tel[i].getNumero());
            }
            pantalla.telefonosContactoResponsable( listaNro , listaTipoT);
            
            return true;
            } catch (Exception ex)
            {
                System.out.println("Error levantando el Contacto Responsable");
                return false;
            }
        }
        
        
}
